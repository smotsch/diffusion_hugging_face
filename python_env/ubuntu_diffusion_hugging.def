Bootstrap: docker
From: ubuntu:24.04

%post
    apt update -y
    DEBIAN_FRONTEND=noninteractive apt install -y --no-install-recommends \
        git wget build-essential htop \
        python3 python3-pip python3-venv python3-dev 

    python3 -m venv /opt/venv
    /opt/venv/bin/python -m pip install --upgrade pip setuptools wheel

    /opt/venv/bin/python -m pip install --no-cache-dir \
        ipython pandas matplotlib Pillow \
        diffusers>=0.30.0 \
        transformers \
        datasets \
        huggingface_hub \
        tqdm \
        torch \
        torchvision

%environment
    export PATH="/opt/venv/bin:$PATH"
